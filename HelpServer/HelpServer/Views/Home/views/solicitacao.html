<div class="animated fadeIn">
    <div class="conteudo" id="dataS" style="display: none;">
        <div class="solicitacao" style="background-color: {{getStatusColor(solicitacao.status)}}">
            <span class="item">
                <label>Nome do usuário: </label> {{getUserName(s.IdSolicitante)}}
            </span>
            <span class="item">
                <label>Sala: </label> {{solicitacao.sala}}
            </span>
            <span class="item">
                <label>Nível de urgência: </label> {{getNivelUrgencia(solicitacao.criticidade)}}
            </span>
            <span class="item">
                <label>Data: </label> {{$root.formatDate(solicitacao.data)}}
            </span>
            <span class="item">
                <label>Motivo(s): </label> {{solicitacao.problemas.join(", ")}}
            </span>
            <span class="item">
                <label>Status: </label> {{getStatus(solicitacao.status)}}
            </span>
            <span class="item" ng-show="solicitacao.IdResponsavel">
                <label>Responsável: </label> {{getUserName(s.IdResponsavel)}}
            </span>
            <div class="item" ng-show="solicitacao.observacao.length">
                <label>{{solicitacao.observacao.length == 1 ? 'Observação' : 'Observações'}}</label>
                <div ng-repeat="o in solicitacao.observacao">
                    <textarea class="form-control" readonly v>{{o}}</textarea>
                </div>
            </div>
        </div>
        <div class="row-fluid" style="margin-bottom: 15px;">
            <a class="btn btn-vermelho"  ng-href="#/">Voltar</a>
            <button class="btn btn-vermelho" style="float: right; margin-left: 5px;" ng-click="showDelegate = true" 
                    ng-show="solicitacao.status == 1">Delegar</button>
            <button class="btn btn-vermelho" style="float: right; margin-left: 5px; " ng-click="atender(user.id)" 
                    ng-show="solicitacao.status == 1">Atender</button>
            <button class="btn btn-vermelho" style="float: right; margin-left: 5px;" ng-click="cancelar()" 
                    ng-show="solicitacao.status == 1 || solicitacao.status == 2">Cancelar</button>
            <button class="btn btn-vermelho" style="float: right;" ng-click="showEncerrar = true"
                    ng-show="solicitacao.status == 2">Encerrar
            </button>
            <button class="btn btn-vermelho" style="float: right;" ng-click="excluir()" 
                    ng-show="solicitacao.status == 3 || solicitacao.status == 4">Excluir</button>
        </div>
        <div class="row-fluid" ng-show="showDelegate">
            <div class="dropdown" style="display: inline-block; width: 100%;">
                <button class="btn btn-default dropdown-toggle" type="button" id="delegateMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" style="width: auto;">
                    {{$root.getUserName(delegate)}}
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" aria-labelledby="delegateMenu" style="width: auto;">
                    <li ng-repeat="u in users" ng-class="{active: u.id == delegate}">
                        <a ng-click="delegate = u.id; atender(delegate);" style="display: block; cursor: pointer;">{{u.nome}}</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="form-group" ng-show="showEncerrar">
            <label class="radio-inline">
                <span style="display: block; font-weight: 600; margin-left: -20px;">Problema resolvido?</span>
                <label style="font-weight: normal; display: block;"><input type="radio" ng-model="done" name="finalSol" value="1"/> <span style="display: block;">Sim</span></label>
                <label style="font-weight: normal; display: block;"><input type="radio" ng-model="done" name="finalSol" value="0"/> <span style="display: block;">Não</span></label>
            </label>
            <textarea class="form-control"  style="margin-top: 15px;" name="observacao" placeholder="Observação (opcional)" ng-model="solicitacao.observacao"></textarea>
            <div style="margin-top: 15px;">
                <button class="btn btn-vermelho" style="float: right;" ng-click="encerrar()">
                    Salvar
                </button>
            </div>
        </div>
    </div>
    <div id="emptyS" style="display: none;">
        Solicitação não disponível. Tente novamente mais tarde.
    </div>
</div>
